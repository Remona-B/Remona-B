
{ %schema%}
{
  "name" : "Custom Product Grid",
  "settings" : [
  {
    "type": "collection",
    "id": "collection",
    "label": "Choose Collection"
  }
  ],
  "presets":[
    {
      "name": "Custom Grid"
    }
  ]
}
{% end schema %}

<section class="custom-grid">
  <div class="grid">
    {%assign collection = collections[section.settings.collection]%}
    {% for product in collection.products%}
    <div class="product-card data-handle="{{product.handle}}">
      <img src="{{product.featured_image| image_url:width:400}}" alt="{{product.title}}">
      <h3>{{product.title}}</h3>
      <p>{{product.price | money}}</p>
      <button class="view-details" data-handle="{{product.handle}}">View Details</button>
    </div>
    {% endfor %}
  </div>
</section>

<!-- Popup -->
<div id="product-popup" class="popup hidden">
  <div class="popup-content">
    <span class="close">&times;</span>
    <div id="popup-body"></div>
  </div>
</div>

<style>
/* === Product Grid Style === */
.custum-grid .grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap:2rem;
}

.product-card{
  border : 1px solid #eee;
  padding: 1rem;
  text-align: center;
  border-radius:10px;
}

.product-card img{
  max-width: 100%;
  border-radius:10px;
}

button.view-details{
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background: black;
  color: white;
  border:none;
  cursor:pointer;
}

.popup.hidden{display:none;}

.popup{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background: rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
}

.popup-content{
  background:white;
  padding: 2rem;
  max-width: 600px;
  width:100%;
  border-radius:12px;
  position:relative;
}

.popup .close{
  position: absolute;
  top:10px;
  right: 15px;
  cursor:pointer;
  font-size:1.5rem;
}
</style>

<script src="{{ 'custom-grid.js' | asset_url}}" defer="defer"></script>
